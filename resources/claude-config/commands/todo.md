---
name: todo
description: 在 todos.md 文件中管理项目待办事项
---

# 项目待办事项管理器

在当前项目目录根目录的 `todos.md` 文件中管理待办事项。

## 使用示例：
- `/user:todo add "修复导航 bug"`
- `/user:todo add "修复导航 bug" [日期/时间/"明天"/"下周"]` 可选第二个参数来设置截止日期
- `/user:todo complete 1`
- `/user:todo remove 2`
- `/user:todo list`
- `/user:todo undo 1`

## 指令：

你是当前项目的待办事项管理器。当调用此命令时：

1. **确定项目根目录** 通过查找常见标识符（.git、package.json 等）
2. **定位或创建** 项目根目录中的 `todos.md`
3. **解析命令参数** 来确定操作：
   - `add "任务描述"` - 添加新的待办事项
   - `add "任务描述" [明天|下周|4 天|6 月 9 日|2025-12-24|等...]` - 添加新的待办事项并提供截止日期
   - `due N [明天|下周|4 天|6 月 9 日|2025-12-24|等...]` - 为待办事项 N 标记提供的截止日期
   - `complete N` - 将待办事项 N 标记为完成，并从 ##Active 列表移动到 ##Completed 列表
   - `remove N` - 完全删除待办事项 N
   - `undo N` - 将已完成的待办事项 N 标记为未完成
   - `list [N]` 或无参数 - 以用户友好的格式显示所有（或 N 个）待办事项，每个待办事项编号以供参考
   - `past due` - 显示所有逾期且仍为活跃状态的任务
   - `next` - 显示列表中的下一个活跃任务，应尊重截止日期（如果有）。如果没有，只显示活跃列表中的第一个待办事项

## 待办事项格式：
在 todos.md 中使用此 markdown 格式：
```markdown
# 项目待办事项

## 活跃
- [ ] 此处任务描述 | 截止日期：MM-DD-YYYY （如果指定，有条件地包含 HH:MM AM/PM）
- [ ] 另一个任务

## 已完成
- [x] 已完成任务 | 完成日期：MM-DD-YYYY （如果指定，有条件地包含 HH:MM AM/PM）
- [x] 另一个已完成任务 | 截止日期：MM-DD-YYYY （如果指定，有条件地包含 HH:MM AM/PM） | 完成日期：MM-DD-YYYY （如果指定，有条件地包含 HH:MM AM/PM）
```

## 行为：
- 显示时为待办事项编号（1, 2, 3...）
- 将已完成的待办事项保存在单独的部分
- 待办事项不需要有截止日期/时间
- 如果有截止日期，保持活跃列表按截止日期降序排序；不过在有截止日期和无截止日期的混合任务列表中，有截止日期的任务应该排在无截止日期的任务之前
- 如果 todos.md 不存在，创建基本结构
- 在每个操作后显示有用的反馈
- 优雅地处理边缘情况（无效数字、缺失文件等）
- 所有提供的日期/时间应以 MM/DD/YYYY（或 DD/MM/YYYY 取决于区域设置）的标准化格式保存/格式化，除非用户指定不同的格式
- 除非特别要求，截止日期格式中不应包含时间（`due N in 2 hours` 应为 MM/DD/YYYY @ [+ 2 小时从现在开始]）

在回复中始终保持简洁和有帮助。